# ============================================================================
# Omnibus â€” Production Profile
# ============================================================================
# Activate via: SPRING_PROFILES_ACTIVE=prod
# All secrets MUST be injected via environment variables.

spring:
  datasource:
    url: ${SPRING_DATASOURCE_URL}
    username: ${SPRING_DATASOURCE_USERNAME}
    password: ${SPRING_DATASOURCE_PASSWORD}
    hikari:
      maximum-pool-size: ${HIKARI_MAX_POOL_SIZE:40}
      minimum-idle: ${HIKARI_MIN_IDLE:10}

app:
  jwt:
    secret: ${APP_JWT_SECRET}
    expiration-ms: ${APP_JWT_EXPIRATION_MS:900000}

# ---- Disable verbose error disclosure ----
server:
  error:
    include-message: never
    include-binding-errors: never

# ---- Restrict Swagger in production ----
springdoc:
  swagger-ui:
    enabled: ${SWAGGER_ENABLED:false}
  api-docs:
    enabled: ${SWAGGER_ENABLED:false}

# ---- Production logging (no sensitive data) ----
logging:
  level:
    root: WARN
    com.omnibus: INFO
    org.springframework.security: WARN
    org.hibernate.SQL: WARN
    org.hibernate.type.descriptor.sql.BasicBinder: OFF
